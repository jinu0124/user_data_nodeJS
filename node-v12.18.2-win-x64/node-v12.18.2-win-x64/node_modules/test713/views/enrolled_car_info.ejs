<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Enrolled Car Information</title>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

    <script language="javascript">
      // $(document).ready(function() 를 사용하면 body의 HTML(DOM)이 모두 읽힌 후 script가 수행되도록 할 수 있다.
      $(document).ready(function() {
        // alert($("#row_num").val());
        var row_num = $("#row_num").attr("value");
        var output_data = ""
        for(var i=0; i<row_num; i++){
          output_data += "<tr>";
          output_data += "<td>" + $("#car_id").val() + "</td>";
          output_data += "<td>" + $("#name").val() + "</td>";
          output_data += "<td>" + $("#type").val() + "</td>";
          output_data += "<td>" + $("#price").val() + "</td>";
          output_data += "<td>" + $("#launch_year").val() + "</td>";
          output_data += "<tr>";
        }
        // '#'을 사용하여서 id값의 value를 가져온다.
        //tableTag ID에 .append()를 사용해서 table에 Data를 삽입할 수 있다.
        $("#dynamicTableBody").append(output_data);
      });

    </script>

    <style>
    .container{
      width: 1080px;
      margin: 0 auto;
      overflow: hidden;
    }

    th, td{
      border: 2px black solid;
      text-align: center;
    }

    h2{
      margin: 0 auto;
      text-align: center;
      font-style: italic;
    }

    table{
      width:800px;
      margin: 0 auto;
    }

    </style>
  </head> 

  <body>
    <div class="container">
        <h2>등록된 차량 정보</h2> <br>
        <!-- input type="hidden" 을 통해 파라미터로 넘어온 값을 저장해두고 <script>에서 사용.-->
        <input id="row_num" type="hidden" value="<%= car_info[0]['number']%>">
        <input id="car_id" type="hidden" value="<%= car_info[0]['car_id']%>">
        <input id="name" type="hidden" value="<%= car_info[0]['name']%>">
        <input id="type" type="hidden" value="<%= car_info[0]['type']%>">
        <input id="price" type="hidden" value="<%= car_info[0]['price']%>">
        <input id="launch_year" type="hidden" value="<%= car_info[0]['launch_year']%>">
        <table id="dynamicTable">
          <thead>
            <tr>
              <th>Car ID</th>
              <th width="200px">Name</th>
              <th>Type</th>
              <th width="120px">Price</th>
              <th>Launch Year</th>
            </tr>
          </thead>
          <tbody id="dynamicTableBody">
          </tbody>
        </table>
      <a href="javascript:history.back();">돌아가기</a>
    </div>
  </body>
</html>